<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roleta - Cassino TCC</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        .roleta-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 20px auto;
        }
        #roleta {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: conic-gradient(
                /* 18 setores (9 vermelhos, 9 pretos) de 20Â° cada */
                red 0deg 20deg, black 20deg 40deg,
                red 40deg 60deg, black 60deg 80deg,
                red 80deg 100deg, black 100deg 120deg,
                red 120deg 140deg, black 140deg 160deg,
                red 160deg 180deg, black 180deg 200deg,
                red 200deg 220deg, black 220deg 240deg,
                red 240deg 260deg, black 260deg 280deg,
                red 280deg 300deg, black 300deg 320deg,
                red 320deg 340deg, black 340deg 360deg
            );
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            transition: transform 3s cubic-bezier(0.1, 0.7, 0.1, 1); /* Efeito de desaceleraÃ§Ã£o realista */
        }
        #seta {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            z-index: 10;
            color: #ffcc00;
        }
        .base {
            width: 320px;
            height: 20px;
            background: #333;
            border-radius: 10px;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        button {
            background: #ffcc00;
            color: black;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
        }
        input {
            padding: 10px;
            margin: 10px;
            width: 100px;
            border-radius: 5px;
            border: none;
        }
        .aposta-option {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        .vermelho {
            background: red;
        }
        .preto {
            background: black;
            color: white;
        }
        .selecionado {
            border: 3px solid #ffcc00;
        }
    </style>
</head>
<body>
    <h1>ðŸŽ¡ Roleta SimÃ©trica</h1>
    <div>
        <input type="number" id="valorAposta" placeholder="Valor (R$)" min="1" value="10">
        <p>Escolha uma cor:</p>
        <div class="aposta-option vermelho selecionado" onclick="selecionarCor('vermelho')">Vermelho</div>
        <div class="aposta-option preto" onclick="selecionarCor('preto')">Preto</div>
    </div>
    <button onclick="girarRoleta()">Girar!</button>
    
    <div class="roleta-container">
        <div id="seta">â–¼</div>
        <div id="roleta"></div>
        <div class="base"></div>
    </div>
    <p id="resultado"></p>

    <script>
        let saldo = Number(localStorage.getItem('saldo')) || 0;
        let corAposta = 'vermelho';

        function selecionarCor(cor) {
            corAposta = cor;
            document.querySelectorAll('.aposta-option').forEach(el => {
                el.classList.remove('selecionado');
            });
            document.querySelector(`.${cor}`).classList.add('selecionado');
        }

        function girarRoleta() {
            const valorAposta = Number(document.getElementById('valorAposta').value);
            if (valorAposta < 1 || valorAposta > saldo) {
                alert('Aposta invÃ¡lida ou saldo insuficiente!');
                return;
            }

            // Deduz a aposta do saldo
            saldo -= valorAposta;
            localStorage.setItem('saldo', saldo);
            
            const roleta = document.getElementById('roleta');
            const resultado = document.getElementById('resultado');
            
            // Gira entre 2 e 10 voltas (720Â° a 3600Â°), sempre parando em um Ã¢ngulo mÃºltiplo de 20Â° (setor simÃ©trico)
            const voltas = Math.floor(Math.random() * 9) + 2; // 2 a 10 voltas
            const anguloFinal = (Math.floor(Math.random() * 18)) * 20; // 0Â°, 20Â°, 40Â°, ..., 340Â°
            const giroTotal = (voltas * 360) + anguloFinal; // Giro completo + Ã¢ngulo final

            roleta.style.transform = `translateX(-50%) rotate(${giroTotal}deg)`;

            setTimeout(() => {
                // Determina a cor sorteada (Ã¢ngulo final mÃºltiplo de 20Â°)
                const corSorteada = (anguloFinal % 40 === 0) ? 'vermelho' : 'preto';

                if (corAposta === corSorteada) {
                    const ganho = valorAposta * 2;
                    saldo += ganho;
                    localStorage.setItem('saldo', saldo);
                    resultado.textContent = `ðŸŽ‰ ${corSorteada.toUpperCase()}! VocÃª ganhou R$${ganho}!`;
                } else {
                    resultado.textContent = `ðŸ’¸ ${corSorteada.toUpperCase()}! VocÃª perdeu R$${valorAposta}.`;
                }
            }, 3000);
        }
    </script>
</body>
</html>